buildscript {
  repositories {
    maven {
      url "https://plugins.gradle.org/m2/"
    }
  }
  dependencies {
    classpath "gradle.plugin.ch.myniva.gradle:s3-build-cache:0.4.1"
  }
}

apply plugin: 'ch.myniva.s3-build-cache'

ext.isMasterBuild = System.getenv("CIRCLE_BRANCH") == "master"

buildCache {
    local {
        enabled = !isMasterBuild
    }

    remote(ch.myniva.gradle.caching.s3.AwsS3BuildCache) {
        region = 'us-east-1'
        bucket = 'testcontainers-build-cache'
        push = true
    }
}

rootProject.name = 'testcontainers-java'

include "core"
include "modules:jdbc"
include "modules:jdbc-test"
include "modules:kafka"
include "modules:mysql"
include "modules:nginx"
include "modules:postgresql"
include "modules:selenium"
